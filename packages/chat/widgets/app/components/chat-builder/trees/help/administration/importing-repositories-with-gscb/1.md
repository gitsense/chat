<!--
Component: Importing Repositories with GitSense Chat Bridge (GSCB) Guide
Block-UUID: 01a2b3c4-d5e6-7f8a-9b0c-1d2e3f4a5b6c
Parent-UUID: bda97f9e-7fd2-4c88-ac38-07dbf99ba1f1
Version: 1.2.0
Description: Guide for importing Git repositories into GitSense Chat using the gscb tool, including limitations and management.
Language: Markdown
Created-at: 2025-08-14T16:34:36.883Z
Authors: Gemini 2.5 Flash Thinking (v1.0.0), Gemini 2.5 Flash Thinking (v1.1.0), Gemini 2.5 Flash Thinking (v1.2.0)
-->


> GitSense Chat Help: Administration / Importing Repositories with GitSense Chat Bridge (GSCB)

## Importing Repositories with GitSense Chat Bridge (GSCB)

The GitSense Chat Bridge (`gscb`) is the command-line tool responsible for importing your Git repositories into GitSense Chat's database. This makes your codebase "chatable" and available for AI-assisted features like context building and search.

This document focuses on the **free version** of `gscb`, which has certain limitations. These limitations exist primarily to ensure ease of installation, hackability and support, as it is written in JavaScript and uses SQLite for simplicity (whereas the commercial version leverages PostgreSQL and Java for scalability). Additionally, they are part of our strategy to build a sustainable business by focusing on our core strength: indexing at scale. For a full understanding of the licensing and business model, please refer to the [README.md](https://github.com/gitsense/chat/blob/main/README.md) file in the GitSense Chat repository.
 

---

### Known Limitations of the Free Version

It is important to be aware of the following known issues and limitations when using the free version of `gscb`:

#### Extremely Slow for Large Repositories with Long History

The free version of `gscb` is not optimized for extremely large repositories with extensive commit histories. While future performance improvements are planned, it will never be comparable to the commercial version.

*   **Impact:** Importing repositories with a large number of files and/or a very long history can be extremely slow and resource-intensive.
*   **Workaround:** If you need to import a large repository, a recommended workaround is to create a new Git repository containing only the specific tree (branch, tag, or commit) you wish to import. This approach allows you to import a tree with approximately **5,000 files or less** in a reasonable amount of time.
*   **Commercial Version:** The commercial version of `gscb` is designed to efficiently index hundreds of thousands of repositories, including those with very long histories like the Linux Kernel.

#### Limited File Type Support (Text Files Only by Default)

By default, the free version of `gscb` will only process text files.

*   **Impact:** Support for other document types such as PDFs, Word documents, spreadsheets, or images is not currently available.
*   **Recommendation:** You should keep the default settings and be aware that not every file in your repository will be imported unless it is a text file under a certain size.

#### File Deletes and Renames Are Not Properly Updated

Currently, the free version does not properly update the imported tree when files are deleted or renamed in the source Git repository. Additionally, there are no safeguards in place to prevent the imported tree from accidental deletions, renames, moves, or edits of files or directories.

*   **Impact:** This means that files you have deleted or renamed in your Git repository may still appear in GitSense Chat's `Repositories` tree.
*   **Workaround:** This issue will be addressed in a future update. In the meantime, the workaround is to **delete the affected repository from GitSense Chat** and then **re-import it** to reflect the latest file structure.

---

### 1. Importing a Git Repository (NPM Installation)

If you installed GitSense Chat using NPM, use the `gscb import git` command directly from your terminal.

```bash
gscb import git <path to repo> <repo owner> <repo name> <branch>
```

*   `<path to repo>`: The local file system path to the Git repository (e.g., `/repos/acme/awesome`).
*   `<repo owner>`: The owner or organization of the Git repository as it will appear in GitSense Chat (e.g., `acme`).
*   `<repo name>`: The name of the Git repository (e.g., `chat`).
*   `<branch>`: The specific branch you want to import (e.g., `main`).

**Example:**

```bash
gscb import git /repos/acme/awesome acme awesome main
```

#### Updating an Imported Repository (NPM)

To update an already imported repository with its latest changes, simply execute the **exact same `import` command** again. `gscb` will perform an incremental update, fetching new commits and updating existing files efficiently.

---

### 1. Importing a Git Repository (Docker Installation)

If you are running GitSense Chat using Docker, you need to ensure your local Git repositories are accessible from within the Docker container. This is done by setting an environment variable and using the `gsc-docker import` command.

#### Prerequisites for Docker Imports

*   **`GSC_REPOS_DIR` Environment Variable:** Before starting your GitSense Chat container, you must set the `GSC_REPOS_DIR` environment variable on your host machine. This variable should point to the **absolute path** of the directory on your host that contains your Git repositories. This directory will be mounted into the Docker container, making your repositories visible to the `gscb` tool.

    **Example:**
    *   On Linux/macOS: `export GSC_REPOS_DIR="/Users/youruser/my_git_repos"`
    *   On Windows (PowerShell): `$env:GSC_REPOS_DIR="C:\Users\youruser\my_git_repos"`

    **Important:** If `GSC_REPOS_DIR` is not set when you run `gsc-docker start`, you will receive a warning, and the container will not be able to access your local Git repositories for import.

#### Steps to Import

1.  **Set `GSC_REPOS_DIR` (if not already set):**
    Open your terminal and set the environment variable to the path where your Git repositories are located on your host machine.

    ```bash
    # Example for macOS/Linux:
    export GSC_REPOS_DIR="/path/to/your/local/git/repos"

    # Example for Windows (PowerShell):
    # $env:GSC_REPOS_DIR="C:\path\to\your\local\git\repos"
    ```

2.  **Start GitSense Chat Docker Container:**
    Start the GitSense Chat container using the `gsc-docker` helper script. The script will automatically bind-mount your specified `GSC_REPOS_DIR` into the container at `/app/host_repos`.

    ```bash
    ./gsc-docker start
    ```
    You should see a message indicating that your host directory is being mounted:
    `Mounting host directory '/path/to/your/local/git/repos' to '/app/host_repos' inside the container.`

3.  **Import Your Git Repository:**
    Once the container is running, use the `gsc-docker import` command. **Crucially, for `<path to repo>`, you must use the *internal container path* where your repository is mounted, which is `/app/host_repos/<your_repo_name>`.**

**Example:**

```bash
./gsc-docker import /app/host_repos/awesome acme awesome main
```

#### Updating an Imported Repository

To update an already imported repository with its latest changes, simply execute the **exact same `import` command** again. `gscb` will perform an incremental update, fetching new commits and updating existing files efficiently.

> **IMPORTANT:** There are no safe guards in place to prevent you from accidentally deleting, renaming, moving or editing a file or tree. In future updates, this will be addressed.

---

### 2. Deleting Imported Repositories

You can delete imported repositories directly from the GitSense Chat user interface. This is useful for removing outdated data or for applying the workaround for file renames/deletes.

1.  In the right sidebar of the GitSense Chat application, navigate to the **`Repositories` tree**.

#### Deleting a Specific Branch

To delete a specific branch of a repository (e.g., the `main` branch of `gitsense/gscb-cli`):

*   Locate and click on the specific branch you wish to delete in the `Repositories` tree (e.g., `main` under `gitsense/gscb-cli`).
*   In the top-right corner of the screen, click the **options menu (gear icon)** and select **'Delete chat'**.

#### Deleting All Repositories by an Owner

To delete all repositories owned by a specific entity (e.g., all repositories under `gitsense`):

*   Locate and click on the owner name (e.g., `gitsense`) in the `Repositories` tree.
*   In the top-right corner of the screen, click the **options menu (gear icon)** and select **'Delete chat'**.

**Note:** The root `Repositories` tree itself cannot be deleted.
