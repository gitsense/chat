<!--
Component: Context Building Tutorial - Adding and Merging Context
Block-UUID: 2c3d4e5f-6a7b-8c9d-0e1f-2a3b4c5d6e7f
Parent-UUID: N/A
Version: 1.0.0
Description: Guides the user through adding new context and consolidating multiple context sources.
Language: Markdown
Created-at: 2025-07-29T19:16:15.083Z
Authors: Gemini 2.5 Flash Thinking (v1.0.0)
-->


> GitSense Chat Help: Tutorials / Mastering Context / Adding and Merging Context

## Part 3 - Adding New Context and Consolidating with Merge

So far, you've learned how to build a quick context using AI-assisted search and how to refine it into a focused bundle using the LLM. But what if you want to broaden your context again or combine files from different sources? This section will show you how to add new context and efficiently consolidate it.

---

### Step 1: Reset Your Current Selection

Suppose you've been working with a very specific set of files, but now you want to consider a wider range of code.

1. In the **right sidebar**, locate the box containing the **'Review' button**.
2. In the same box, you will see a **'Reset' link** above the button. Click the **'Reset' link**.

This action will unselect all currently selected files in the 'Repositories' tree, effectively clearing your staging area for new context.

> Note: Whether to reset or not will depend on how you plan on building your context. Sometimes it is desirable to keep the current selection and add new files to it, then use the 'Delete' link discussed in part 2 to remove previous contexts.

### Step 2: Select a Broader Set of Files

Now that your selection is reset, let's select all files from both the 'Hello World' and 'Hey World' repositories, similar to what you did in the "Using Your First Analyzer" tutorial.

1. In the **right sidebar**, find the **'Repositories' tree**.
2. Expand `Tutorial/hello-world` and `Tutorial/hey-world`.
3. Click the **checkboxes** next to the `main` branch for *both* repositories. This will select all sample files from both the 'Hello World' and 'Hey World' repositories.

Once you've selected both, the **'Review' button** will become enabled.

### Step 3: Load the New Context

1. Click the **'Review' button**.
2. When the Context Builder modal appears, immediately select all by clicking the checkbox in the table header.
3. Immediately click the **'Load' button** in the modal's footer.
4. Immediately click the **'Add' button** in the modal's footer.

A **new 'Context' message** will now appear in your chat, containing all files from both the 'Hello World' and 'Hey World' repositories. You'll notice that your chat now contains multiple 'Context' messages, and some files might even overlap between them.

### Step 4: Consolidate Context Messages with Merge

To keep your chat clean and ensure your LLM is working with a single, comprehensive context, you can merge multiple context messages into one.

In the **latest 'Context' message** you just added (the one with all files from both repos), look for the **'Merge and Update (Imported)'** or **'Merge and Update (Working Directory)'** links.

1. Click either **'Merge and Update (Imported)'** or **'Merge and Update (Working Directory)'**.

> **What's the difference between 'Imported' and 'Working Directory'?**
> * **'Imported':** This option will consolidate files based on the latest imported version in the GitSense Chat database.
> * **'Working Directory':** This option will consolidate files by looking in the local Git working directory that was used to import the repository. This is useful if you have uncommitted changes you want to include.

After clicking, a single, consolidated 'Context' message will now exist in your chat, containing all files from both the 'Hello World' and 'Hey World' repositories, without any duplicates or redundant context messages.

> Note: Nothing is lost. When you merge, a copy is made, and only the copy will be edited. The original chat will become the child of the copy (which will become the new main version).

#### Best Practice

After merging, it is good practice to inform the LLM that you updated the context. By informing the LLM of this, it can infer that previous responses were based on information from previous contexts.

---

**Next Step:** Now that you have a comprehensive context, let's dive into the advanced filtering capabilities of the Context Builder to refine your LLM's knowledge base even further. Click the button below to start the next part.

[add-next-part]({{Advanced Filtering and Insights in the Context Builder}})
